<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>A list of functions available in the SpatialSablefishAssessment package | SpatialSablefishAssessment</title>
  <meta name="description" content="This Gitbook describes the spatial sablefish stock assessment R package and how to use it" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="A list of functions available in the SpatialSablefishAssessment package | SpatialSablefishAssessment" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This Gitbook describes the spatial sablefish stock assessment R package and how to use it" />
  <meta name="github-repo" content="https://github.com/Craig44/SpatialSablefishAssessment" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="A list of functions available in the SpatialSablefishAssessment package | SpatialSablefishAssessment" />
  
  <meta name="twitter:description" content="This Gitbook describes the spatial sablefish stock assessment R package and how to use it" />
  

<meta name="author" content="C.Marsh" />


<meta name="date" content="2024-01-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="how-to-use-spatialsablefishassessment.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SpatialSablefishAssessment</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><i class="fa fa-check"></i>A list of functions available in the <code>SpatialSablefishAssessment</code> package</a>
<ul>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#validate-functions"><i class="fa fa-check"></i>Validate functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#accessor-functions"><i class="fa fa-check"></i>Accessor functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#plotting-functions"><i class="fa fa-check"></i>Plotting functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#estimation-functions"><i class="fa fa-check"></i>Estimation functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#projectionreference-point-functions"><i class="fa fa-check"></i>Projection/Reference point functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#model-comparison-functions"><i class="fa fa-check"></i>Model comparison functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#distribution-functions"><i class="fa fa-check"></i>Distribution functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#parameter-transformation-functions"><i class="fa fa-check"></i>Parameter transformation functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#data-grooming-functions"><i class="fa fa-check"></i>Data grooming functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#auxillary-functions"><i class="fa fa-check"></i>Auxillary functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html"><i class="fa fa-check"></i>How to use <code>SpatialSablefishAssessment</code></a>
<ul>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#configuring-and-checking-model-inputs-data-and-parameters"><i class="fa fa-check"></i>Configuring and checking model inputs (data and parameters)</a>
<ul>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#simple-sanity-checks"><i class="fa fa-check"></i>Simple sanity checks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#optimisation"><i class="fa fa-check"></i>Optimisation</a>
<ul>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#check-convergence"><i class="fa fa-check"></i>Check convergence</a></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#fixing-estimable-parameters-at-input-values"><i class="fa fa-check"></i>Fixing estimable parameters at input values</a></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#sharing-parameter-estimates-among-estimable-variables-i.e.-male-and-female-having-a-common-selectivity"><i class="fa fa-check"></i>Sharing parameter estimates among estimable variables i.e., male and female having a common selectivity</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#model-summary"><i class="fa fa-check"></i>Model Summary</a></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#mcmc-inference"><i class="fa fa-check"></i>MCMC inference</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html"><i class="fa fa-check"></i><code>TagIntegrated</code> model equations</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#process-equations"><i class="fa fa-check"></i>Process equations</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#population-dynamics"><i class="fa fa-check"></i>Population dynamics</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#initialisation"><i class="fa fa-check"></i>Initialisation</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#growth"><i class="fa fa-check"></i>Growth</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#recruitment"><i class="fa fa-check"></i>Recruitment</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#spawning-biomass"><i class="fa fa-check"></i>Spawning biomass</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#fishing-mortality"><i class="fa fa-check"></i>Fishing mortality</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#tag-release-events"><i class="fa fa-check"></i>Tag release events</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#selectivities"><i class="fa fa-check"></i>Selectivities</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#observation-equations"><i class="fa fa-check"></i>Observation equations</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#catch-at-age"><i class="fa fa-check"></i>Catch at age</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#catch-at-length"><i class="fa fa-check"></i>Catch at length</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#proportions-at-age"><i class="fa fa-check"></i>Proportions at age</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#relative-abundance-indices"><i class="fa fa-check"></i>Relative abundance indices</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#tag-recovery-observations"><i class="fa fa-check"></i>Tag recovery observations</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#likelihood-formulations"><i class="fa fa-check"></i>Likelihood formulations</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#multinomial"><i class="fa fa-check"></i>Multinomial</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#dirichlet-multinomial"><i class="fa fa-check"></i>Dirichlet-Multinomial</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#lognormal"><i class="fa fa-check"></i>Lognormal</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#projecting"><i class="fa fa-check"></i>Projecting</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#recruitment-1"><i class="fa fa-check"></i>Recruitment</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#fishing"><i class="fa fa-check"></i>Fishing</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#example-code-snippets"><i class="fa fa-check"></i>Example code snippets</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#symbol-notation"><i class="fa fa-check"></i>Symbol Notation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-data-and-parameter-descriptions.html"><a href="tagintegrated-data-and-parameter-descriptions.html"><i class="fa fa-check"></i><code>TagIntegrated</code> <code>data</code> and <code>parameter</code> descriptions</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-data-and-parameter-descriptions.html"><a href="tagintegrated-data-and-parameter-descriptions.html#data"><i class="fa fa-check"></i><code>data</code></a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-data-and-parameter-descriptions.html"><a href="tagintegrated-data-and-parameter-descriptions.html#additional-data-inputs-for-tagintegratedvalidate"><i class="fa fa-check"></i>Additional data inputs for <code>TagIntegratedValidate</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-data-and-parameter-descriptions.html"><a href="tagintegrated-data-and-parameter-descriptions.html#parameters"><i class="fa fa-check"></i><code>parameters</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="assessment-data-and-parameter-descriptions.html"><a href="assessment-data-and-parameter-descriptions.html"><i class="fa fa-check"></i><code>Assessment</code> <code>data</code> and <code>parameter</code> descriptions</a>
<ul>
<li class="chapter" data-level="" data-path="assessment-data-and-parameter-descriptions.html"><a href="assessment-data-and-parameter-descriptions.html#data-1"><i class="fa fa-check"></i><code>data</code></a></li>
<li class="chapter" data-level="" data-path="assessment-data-and-parameter-descriptions.html"><a href="assessment-data-and-parameter-descriptions.html#parameters-1"><i class="fa fa-check"></i><code>parameters</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment-in-a-mse.html"><a href="how-to-use-spatialsablefishassessment-in-a-mse.html"><i class="fa fa-check"></i>How to use <code>SpatialSablefishAssessment</code> in a MSE</a></li>
<li class="chapter" data-level="" data-path="adding-unit-tests.html"><a href="adding-unit-tests.html"><i class="fa fa-check"></i>Adding Unit Tests</a></li>
<li class="chapter" data-level="" data-path="contributing-to-spatialsablefishassessment.html"><a href="contributing-to-spatialsablefishassessment.html"><i class="fa fa-check"></i>Contributing to <code>SpatialSablefishAssessment</code></a>
<ul>
<li class="chapter" data-level="" data-path="contributing-to-spatialsablefishassessment.html"><a href="contributing-to-spatialsablefishassessment.html#adding-a-new-r-dependency"><i class="fa fa-check"></i>Adding a new R dependency</a></li>
<li class="chapter" data-level="" data-path="contributing-to-spatialsablefishassessment.html"><a href="contributing-to-spatialsablefishassessment.html#tips"><i class="fa fa-check"></i>Tips</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/Craig44/SpatialSablefishAssessment" target="blank">Github Repo here</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SpatialSablefishAssessment</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="a-list-of-functions-available-in-the-spatialsablefishassessment-package" class="section level1 unnumbered hasAnchor">
<h1>A list of functions available in the <code>SpatialSablefishAssessment</code> package<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#a-list-of-functions-available-in-the-spatialsablefishassessment-package" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>All of these functions have descriptions and details on expected input parameters using the standard <code>?</code> R query methods. You can also use <code>help(package = "SpatialSablefishAssessment")</code> to get a list of functions available in this package.</p>
<p>Most of the functions will ask for an optional input parameter called <code>region_key</code> which will add a label for regions. This is a data.frame which is shown in the following code chunk. <strong>Note</strong> how the column <code>TMB_ndx</code> is an index made for C++ syntax not R i.e., it starts at 0 not 1.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb2-1" aria-hidden="true" tabindex="-1"></a>region_key <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">area =</span> <span class="fu">c</span>(<span class="st">&quot;BS&quot;</span>,<span class="st">&quot;AI&quot;</span>,<span class="st">&quot;WGOA&quot;</span>,<span class="st">&quot;CGOA&quot;</span>,<span class="st">&quot;EGOA&quot;</span>), <span class="at">TMB_ndx =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>))</span>
<span id="cb2-2"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb2-2" aria-hidden="true" tabindex="-1"></a>region_key</span></code></pre></div>
<pre><code>##   area TMB_ndx
## 1   BS       0
## 2   AI       1
## 3 WGOA       2
## 4 CGOA       3
## 5 EGOA       4</code></pre>
<div id="validate-functions" class="section level3 unnumbered hasAnchor">
<h3>Validate functions<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#validate-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>validate_input_data_and_parameters</code> This should always be run on <code>data</code> and <code>parameters</code> applying <code>TMB::MakeADFun</code>. It should catch any issues that will likely cause your R session to crash.</li>
</ul>
</div>
<div id="accessor-functions" class="section level3 unnumbered hasAnchor">
<h3>Accessor functions<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#accessor-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>get_AF</code> get age-frequency observed and predicted values from a model</li>
<li><code>get_LF</code> get length-frequency observed and predicted values from a model</li>
<li><code>get_catches</code> get observed and predicted catches from a fitted model</li>
<li><code>get_fishing_mortalities</code> get annual fishing mortalities from a model</li>
<li><code>get_index</code> get survey index from a model</li>
<li><code>get_partition</code> get numbers at age (units 1 = 1e6) from a fitted model</li>
<li><code>get_SSB</code> get SSBS (kilo tonnes) from a fitted model</li>
<li><code>get_tag_recovery_obs_fitted_values</code></li>
<li><code>get_tag_release_AF</code> get age-frequency of tag-releases</li>
<li><code>get_negloglike</code> get negative log likelihoods for each contribution</li>
<li><code>get_comp_sample_size</code> get composition sample size</li>
<li><code>simulate_observations</code> this function will take a TMB object and simulate a number of observations, used to create simulated residuals.</li>
<li><code>calculate_simulated_residuals</code> this function will take an element from an object created from <code>simulate_observations</code>. This will use <code>DHARMa</code>’s <code>createDHARMa</code> function to calculated simulated residuals</li>
</ul>
</div>
<div id="plotting-functions" class="section level3 unnumbered hasAnchor">
<h3>Plotting functions<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#plotting-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>plot_AF</code> plot age frequency observation</li>
<li><code>plot_age_length_matrix</code> plot input age-length transition matrices</li>
<li><code>plot_catch_fit</code> plot the fit to catches</li>
<li><code>plot_fishing_mortalities</code> plot fishing mortalities</li>
<li><code>plot_frequency_of_tag_release_and_recoveries</code></li>
<li><code>plot_index_fit</code> plot survey index</li>
<li><code>plot_init_nage</code> plot initial numbers at age</li>
<li><code>plot_input_catches</code> plot input catches</li>
<li><code>plot_input_observations</code> plot input observations</li>
<li><code>plot_input_timeblocks</code> plot selectivity and catchability time-blocks in a model</li>
<li><code>plot_comp_sample_size</code> plot composition sample size</li>
<li><code>plot_LF</code> plot length frequency observation</li>
<li><code>plot_mean_age</code> plot mean age observations</li>
<li><code>plot_mean_length</code> plot mean length observations</li>
<li><code>plot_mean_weight</code> plot mean weight over time for males and females</li>
<li><code>plot_movement</code> plot movement matrix from a model</li>
<li><code>plot_partition</code> plot numbers at age by year and sex</li>
<li><code>plot_recruitment</code> plot annual recruitment by region</li>
<li><code>plot_selectivities</code> plot selectivity curves</li>
<li><code>plot_SSB</code> plot regional SSBs</li>
<li><code>plot_tag_recovery_obs</code> plot tag-recovery obs</li>
<li><code>plot_tag_recovery_fits</code> an alternative plotting function for tag-recovery obs</li>
<li><code>plot_tag_release_AF</code> plot the numbers at age by sex for each release event</li>
</ul>
</div>
<div id="estimation-functions" class="section level3 unnumbered hasAnchor">
<h3>Estimation functions<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#estimation-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>estimate_with_phases</code> Estimate a model where parameters are estimated with phases</li>
<li><code>profile_param</code> Run log-likelihood profiles on an estimated parameter</li>
<li><code>set_up_parameters</code> Fix parameters, uses <code>fix_pars</code> and <code>set_pars_to_be_the_same</code> for the <code>TagIntegrated</code> model</li>
<li><code>pre_optim_sanity_checks</code> run some checks on a TMB model of type <code>TagIntegrated</code> before optimization</li>
<li><code>post_optim_sanity_checks</code> run some checks on a TMB model of type <code>TagIntegrated</code> after optimization</li>
<li><code>check_gradients</code> check all parameter gradients are not zero</li>
<li><code>Francis_reweighting</code> calculate stage-two weights for composition data</li>
<li><code>get_tmb_fixed_effects</code> return fixed effect parameters from a model</li>
<li><code>fix_pars</code> turn off parameters so they aren’t estimated, there are many parameters that shouldn’t be estimated</li>
<li><code>set_pars_to_be_the_same</code> set parameters to be estimated at the same value i.e., male female have the same selectivity parameters. or tag-reporting to be the same among regions.</li>
<li><code>rmvnorm_prec</code> simulate from a multivariate normal distribution using the precision matrix.</li>
</ul>
</div>
<div id="projectionreference-point-functions" class="section level3 unnumbered hasAnchor">
<h3>Projection/Reference point functions<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#projectionreference-point-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><code>setup_proj_data</code> this function will take an estimation model and create a data list that when built with <code>TMB::MakeADFun</code> creates a model that will projections for a user defined number of projection years.</p></li>
<li><p><code>find_regional_Fspr</code> this will attempt to find an F for each region and fishery assuming future deterministic (mean) recruitment that achieves some specified target percent <span class="math inline">\(B_{0}\)</span> in each region.</p></li>
</ul>
</div>
<div id="model-comparison-functions" class="section level3 unnumbered hasAnchor">
<h3>Model comparison functions<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#model-comparison-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Often you will run multiple models to explore alternative assumptions and hypothesis. There are a range of function available for extracting output convenient for plotting and summarizing. In order to use the following functions you need to create a list containing multiple runs e.g.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb4-1" aria-hidden="true" tabindex="-1"></a>multi_runs <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb4-2"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb4-2" aria-hidden="true" tabindex="-1"></a>multi_runs[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> low_M_model<span class="sc">$</span><span class="fu">report</span>()</span>
<span id="cb4-3"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb4-3" aria-hidden="true" tabindex="-1"></a>multi_runs[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> high_M_model<span class="sc">$</span><span class="fu">report</span>()</span>
<span id="cb4-4"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb4-4" aria-hidden="true" tabindex="-1"></a>run_labels <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;M = 0.08&quot;</span>, <span class="st">&quot;M = 0.2&quot;</span>)</span>
<span id="cb4-5"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb4-6" aria-hidden="true" tabindex="-1"></a>ssb_df <span class="ot">=</span> <span class="fu">get_multiple_ssbs</span>(<span class="at">mle_ls =</span> multi_runs, <span class="at">run_labels =</span> run_labels)</span></code></pre></div>
<ul>
<li><code>get_multiple_ssbs</code> get multiple models SSBs</li>
<li><code>get_multiple_catch_fits</code> Get multiple models catch fits</li>
<li><code>get_multiple_nlls</code> get multiple models negative log-likelihood</li>
<li><code>summarise_individual_models</code> this is a function that will build a Bookdown/Rmarkdown book displaying a full summary of each model individually. This functions expect users to save the following objects with these exact names for each model that you want to compare. Then pass the function all the directories with model labels and descriptions. Then it “should” automatically build you a Rmarkdown document.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(data, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;data.RDS&quot;</span>))</span>
<span id="cb5-2"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(parameters, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;parameters.RDS&quot;</span>))</span>
<span id="cb5-3"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(mle_report, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;mle_report.RDS&quot;</span>))</span>
<span id="cb5-4"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(sd_report, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;sd_report.RDS&quot;</span>))</span>
<span id="cb5-5"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(mle_spatial, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;mle_optim.RDS&quot;</span>))</span>
<span id="cb5-6"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(map_fixed_pars, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;map_fixed_pars.RDS&quot;</span>))</span>
<span id="cb5-7"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(region_key, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;region_key.RDS&quot;</span>))</span></code></pre></div>
<ul>
<li><code>summarise_multiple_models</code> this is a function that will build a Bookdown/Rmarkdown book compareing multiple models fits and quantities on the same plot. This functions expect users to save the following objects with these exact names for each model that you want to compare. Then pass the function all the directories with model labels and descriptions. Then it “should” automatically build you a Rmarkdown document.</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(data, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;data.RDS&quot;</span>))</span>
<span id="cb6-2"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(parameters, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;parameters.RDS&quot;</span>))</span>
<span id="cb6-3"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(mle_report, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;mle_report.RDS&quot;</span>))</span>
<span id="cb6-4"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(sd_report, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;sd_report.RDS&quot;</span>))</span>
<span id="cb6-5"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(mle_spatial, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;mle_optim.RDS&quot;</span>))</span>
<span id="cb6-6"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(map_fixed_pars, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;map_fixed_pars.RDS&quot;</span>))</span>
<span id="cb6-7"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(region_key, <span class="fu">file.path</span>(fig_path, <span class="st">&quot;region_key.RDS&quot;</span>))</span></code></pre></div>
</div>
<div id="distribution-functions" class="section level3 unnumbered hasAnchor">
<h3>Distribution functions<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#distribution-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>ddirichmult</code> Dirichlet-multinomial pdf function</li>
<li><code>dmultinom_upd</code> Multinomial pdf function, which is the same as TMB’s. Differs from Rs base <code>dmultinom</code> by allowing non-integer x values and not rounding the x values.</li>
<li><code>lognormal_CI</code> calculate confidence intervals for the lognormal distribution</li>
<li><code>log_cv</code> calculate cv for the lognormal distribution given standard deviation</li>
<li><code>log_sigma</code> calculate standard deviation for the lognormal distribution given CV</li>
</ul>
</div>
<div id="parameter-transformation-functions" class="section level3 unnumbered hasAnchor">
<h3>Parameter transformation functions<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#parameter-transformation-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>restoresimplex</code> go from simplex to unit vector</li>
<li><code>simplex</code> go from unit vector to simplex</li>
<li><code>logit_general</code> logistic transformation between a specified lower and upper bound</li>
<li><code>logit</code> logistic transformation between 0, 1 similar to <code>qlogis</code></li>
<li><code>invlogit_general</code> inverse logistic transformation between a specified lower and upper bound</li>
<li><code>invlogit</code> inverse logistic transformation between 0, 1 similar to <code>plogis</code></li>
<li><code>bound_unit</code> transform a parameter <span class="math inline">\(X\)</span> bound between -1 and 1 (i.e., correlation parameter) to value <span class="math inline">\(Y\)</span> which is unbounded as
<span class="math display">\[
Y =
\begin{cases}
\sqrt{\frac{X^2}{1  - X^2}}, \ \ &amp; X \geq 0 \\
-\sqrt{\frac{X^2}{1  - X^2}} , \ \ &amp; X &lt; 0
\end{cases}
\]</span></li>
<li><code>inv_bound_unit</code> inverse of <code>bound_unit</code></li>
<li><code>gm_mean</code> calculate the geometric mean</li>
<li><code>sum_to_zero_QR</code> take an unconstrained vector of length <code>N - 1</code> and calculate a vector of length <code>N</code> that sums = 1.</li>
</ul>
</div>
<div id="data-grooming-functions" class="section level3 unnumbered hasAnchor">
<h3>Data grooming functions<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#data-grooming-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These aren’t related to the model per se. These are useful when grooming raw data sets that are ultimately used as inputs into the model.</p>
<ul>
<li><code>record_grooming_rule</code> this will create a table of how much catch and how many records are removed from applying some data grooming rules</li>
<li><code>apply_grooming_rule</code> equivalent to the <code>subset</code> function</li>
</ul>
</div>
<div id="auxillary-functions" class="section level3 unnumbered hasAnchor">
<h3>Auxillary functions<a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#auxillary-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>VAlignPlots</code> a plotting function that joins multiple ggplots into a single panel with aligned legends and extents</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="how-to-use-spatialsablefishassessment.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Craig44/SpatialSablefishAssessment/edit/main/01-ListOfKeyFunctionsWithDescription.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
