<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>TagIntegrated data and parameter descriptions | SpatialSablefishAssessment</title>
  <meta name="description" content="This Gitbook describes the spatial sablefish stock assessment R package and how to use it" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="TagIntegrated data and parameter descriptions | SpatialSablefishAssessment" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This Gitbook describes the spatial sablefish stock assessment R package and how to use it" />
  <meta name="github-repo" content="https://github.com/Craig44/SpatialSablefishAssessment" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="TagIntegrated data and parameter descriptions | SpatialSablefishAssessment" />
  
  <meta name="twitter:description" content="This Gitbook describes the spatial sablefish stock assessment R package and how to use it" />
  

<meta name="author" content="C.Marsh" />


<meta name="date" content="2023-05-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tagintegrated-model-equations.html"/>
<link rel="next" href="assessment-data-and-parameter-descriptions.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SpatialSablefishAssessment</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><i class="fa fa-check"></i>A list of functions available in the <code>SpatialSablefishAssessment</code> package</a>
<ul>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#validate-functions"><i class="fa fa-check"></i>Validate functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#accessor-functions"><i class="fa fa-check"></i>Accessor functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#plotting-functions"><i class="fa fa-check"></i>Plotting functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#estimation-functions"><i class="fa fa-check"></i>Estimation functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#projectionreference-point-functions"><i class="fa fa-check"></i>Projection/Reference point functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#model-comparison-functions"><i class="fa fa-check"></i>Model comparison functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#distribution-functions"><i class="fa fa-check"></i>Distribution functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#parameter-transformation-functions"><i class="fa fa-check"></i>Parameter transformation functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#data-grooming-functions"><i class="fa fa-check"></i>Data grooming functions</a></li>
<li class="chapter" data-level="" data-path="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html"><a href="a-list-of-functions-available-in-the-spatialsablefishassessment-package.html#auxillary-functions"><i class="fa fa-check"></i>Auxillary functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html"><i class="fa fa-check"></i>How to use <code>SpatialSablefishAssessment</code></a>
<ul>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#configuring-and-checking-model-inputs-data-and-parameters"><i class="fa fa-check"></i>Configuring and checking model inputs (data and parameters)</a>
<ul>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#simple-sanity-checks"><i class="fa fa-check"></i>Simple sanity checks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#optimisation"><i class="fa fa-check"></i>Optimisation</a>
<ul>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#check-convergence"><i class="fa fa-check"></i>Check convergence</a></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#fixing-estimable-parameters-at-input-values"><i class="fa fa-check"></i>Fixing estimable parameters at input values</a></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#sharing-parameter-estimates-among-estimable-variables-i.e.-male-and-female-having-a-common-selectivity"><i class="fa fa-check"></i>Sharing parameter estimates among estimable variables i.e., male and female having a common selectivity</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="how-to-use-spatialsablefishassessment.html"><a href="how-to-use-spatialsablefishassessment.html#model-summary"><i class="fa fa-check"></i>Model Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html"><i class="fa fa-check"></i><code>TagIntegrated</code> model equations</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#process-equations"><i class="fa fa-check"></i>Process equations</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#population-dynamics"><i class="fa fa-check"></i>Population dynamics</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#initialisation"><i class="fa fa-check"></i>Initialisation</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#growth"><i class="fa fa-check"></i>Growth</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#recruitment"><i class="fa fa-check"></i>Recruitment</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#spawning-biomass"><i class="fa fa-check"></i>Spawning biomass</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#fishing-mortality"><i class="fa fa-check"></i>Fishing mortality</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#tag-release-events"><i class="fa fa-check"></i>Tag release events</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#selectivities"><i class="fa fa-check"></i>Selectivities</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#observation-equations"><i class="fa fa-check"></i>Observation equations</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#catch-at-age"><i class="fa fa-check"></i>Catch at age</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#catch-at-length"><i class="fa fa-check"></i>Catch at length</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#proportions-at-age"><i class="fa fa-check"></i>Proportions at age</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#relative-abundance-indices"><i class="fa fa-check"></i>Relative abundance indices</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#tag-recovery-observations"><i class="fa fa-check"></i>Tag recovery observations</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#likelihood-formulations"><i class="fa fa-check"></i>Likelihood formulations</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#multinomial"><i class="fa fa-check"></i>Multinomial</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#dirichlet-multinomial"><i class="fa fa-check"></i>Dirichlet-Multinomial</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#lognormal"><i class="fa fa-check"></i>Lognormal</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#projecting"><i class="fa fa-check"></i>Projecting</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#recruitment-1"><i class="fa fa-check"></i>Recruitment</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#fishing"><i class="fa fa-check"></i>Fishing</a></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#example-code-snippets"><i class="fa fa-check"></i>Example code snippets</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-model-equations.html"><a href="tagintegrated-model-equations.html#symbol-notation"><i class="fa fa-check"></i>Symbol Notation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-data-and-parameter-descriptions.html"><a href="tagintegrated-data-and-parameter-descriptions.html"><i class="fa fa-check"></i><code>TagIntegrated</code> <code>data</code> and <code>parameter</code> descriptions</a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-data-and-parameter-descriptions.html"><a href="tagintegrated-data-and-parameter-descriptions.html#data"><i class="fa fa-check"></i><code>data</code></a>
<ul>
<li class="chapter" data-level="" data-path="tagintegrated-data-and-parameter-descriptions.html"><a href="tagintegrated-data-and-parameter-descriptions.html#additional-data-inputs-for-tagintegratedvalidate"><i class="fa fa-check"></i>Additional data inputs for <code>TagIntegratedValidate</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tagintegrated-data-and-parameter-descriptions.html"><a href="tagintegrated-data-and-parameter-descriptions.html#parameters"><i class="fa fa-check"></i><code>parameters</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="assessment-data-and-parameter-descriptions.html"><a href="assessment-data-and-parameter-descriptions.html"><i class="fa fa-check"></i><code>Assessment</code> <code>data</code> and <code>parameter</code> descriptions</a>
<ul>
<li class="chapter" data-level="" data-path="assessment-data-and-parameter-descriptions.html"><a href="assessment-data-and-parameter-descriptions.html#data-1"><i class="fa fa-check"></i><code>data</code></a></li>
<li class="chapter" data-level="" data-path="assessment-data-and-parameter-descriptions.html"><a href="assessment-data-and-parameter-descriptions.html#parameters-1"><i class="fa fa-check"></i><code>parameters</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="contributing-to-spatialsablefishassessment.html"><a href="contributing-to-spatialsablefishassessment.html"><i class="fa fa-check"></i>Contributing to <code>SpatialSablefishAssessment</code></a>
<ul>
<li class="chapter" data-level="" data-path="contributing-to-spatialsablefishassessment.html"><a href="contributing-to-spatialsablefishassessment.html#tips"><i class="fa fa-check"></i>Tips</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/Craig44/SpatialSablefishAssessment" target="blank">Github Repo here</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SpatialSablefishAssessment</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tagintegrated-data-and-parameter-descriptions" class="section level1 unnumbered hasAnchor">
<h1><code>TagIntegrated</code> <code>data</code> and <code>parameter</code> descriptions<a href="tagintegrated-data-and-parameter-descriptions.html#tagintegrated-data-and-parameter-descriptions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Users need to population a named list containing <code>data</code> inputs and a named list specifying starting values for estimable <code>parameters</code> which are both passed to TMB’s <code>MakeADFun</code> function. These sections outline the elements and corresponding dimensions of both <code>data</code> and <code>parameters</code>.</p>
<div id="data" class="section level2 unnumbered hasAnchor">
<h2><code>data</code><a href="tagintegrated-data-and-parameter-descriptions.html#data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p><code>ages</code> vector of ages. Length <code>n_ages</code></p></li>
<li><p><code>years</code> vector of years from start year to current year. length <code>n_years</code></p></li>
<li><p><code>length_bins</code> vector of length bin midpoints. length. <code>n_length_bins</code></p></li>
<li><p><code>n_projections_years</code> integer of future years to project the model <code>n_projyears = n_years + n_projections_years</code></p></li>
<li><p><code>do_projection</code> integer 0 means don’t do projection 1 does a stochastic projection (<strong>should be turned off during estimation</strong>)</p></li>
<li><p><code>n_regions</code> integer needs to be greater than or equal to 1</p></li>
<li><p><code>global_rec_devs</code> integer 1 means all regions share the same annual recruitment deviations. 0 means they have separate annual recruitment deviations. This will effect the dimensions of the parameter <code>trans_rec_dev</code></p></li>
<li><p><code>rec_devs_sum_to_zero</code> Should the recruit devs in each region sum to zero? yes = 1, no = 0. I yes then this the parameter <code>trans_rec_dev</code> has one less parameter</p></li>
<li><p><code>n_init_rec_devs</code> number of initial n_age_deviations (<code>parameter$ln_init_rec_dev</code>) to multiply against the initial numbers at age to have non equilibrium initial age-structure. A value of zero will <strong>not</strong> apply these initial devs and expects <code>parameter$ln_init_rec_dev</code> to have length 1. These deviations are applied equally to both male and female.</p></li>
<li><p><code>M</code> Natural mortality array with dimensions <code>n_ages</code> <span class="math inline">\(\times\)</span> <code>n_projyears</code></p></li>
<li><p><code>maturity</code> proportion mature array with dimensions <code>n_ages</code> <span class="math inline">\(\times\)</span> <code>n_projyears</code></p></li>
<li><p><code>male_mean_weight_by_age</code> male mean weight at age array with dimensions <code>n_ages</code> <span class="math inline">\(\times\)</span> <code>n_projyears</code>. Units are in kgs, this is because we track millions of fish in the partition, so any weight calculation is in kilo tonnes</p></li>
<li><p><code>female_mean_weight_by_age</code> female mean weight at age array with dimensions <code>n_ages</code> <span class="math inline">\(\times\)</span> <code>n_projyears</code>. Units are in kgs, this is because we track millions of fish in the partition, so any weight calculation is in kilo tonnes</p></li>
<li><p><code>male_age_length_transition</code> male age-length transtion matrix for each year. An array with dimensions <code>n_ages</code> <span class="math inline">\(\times\)</span><code>n_length_bins</code> <span class="math inline">\(\times\)</span> <code>n_projyears</code></p></li>
<li><p><code>female_age_length_transition</code> female age-length transtion matrix for each year. An array with dimensions <code>n_ages</code> <span class="math inline">\(\times\)</span><code>n_length_bins</code> <span class="math inline">\(\times\)</span> <code>n_projyears</code></p></li>
<li><p><code>SrType</code> Stock recruitment type 2 = Beverton holt, 3 = average (NO SR)</p></li>
<li><p><code>spawning_time_proportion</code> vector of proportions that indicate when during the year spawning occurs. Length = <code>n_projyears</code></p></li>
<li><p><code>apply_fixed_movement</code> integer whether to apply the input <code>fixed_movement_matrix</code> or estimated movement matrix. This was added because the transformation on estimated movement parameters does not allow values to be zero or one so cannot truly apply no movement. That is when I have used this fixed movement</p></li>
<li><p><code>do_recruits_move</code> integer specifying whether recruits are applied in the movement dynamic. 1 = yes, 0 = no.</p></li>
<li><p><code>fixed_movement_matrix</code> movement matrix with dimensions <code>n_regions</code> <span class="math inline">\(\times\)</span><code>n_regions</code>. Rows sum equal to one.</p></li>
<li><p><code>prop_F_hist</code> scalar proportion of longline average F that is applied during initialization.</p></li>
<li><p><code>F_method</code> integer, if = 0 then we estimate mean and deviation F free parameters, otherwise if equal 1, use newton raphson iterations and solve F</p></li>
<li><p><code>F_max</code> scalar Maxium F when using the <code>F_method = 1</code></p></li>
<li><p><code>F_iterations</code> integer how many newton raphson iterations are done to solve F when <code>F_method = 1</code></p></li>
<li><p><code>fixed_fishery_catch</code> vector of annual catch for the fixed gear fishery. Units are kilo tonnes</p></li>
<li><p><code>trwl_fishery_catch</code> vector of annual catch for the Trawl gear fishery. Units are kilo tonnes</p></li>
<li><p><code>fixed_sel_type</code> vector of integers specifying the selectivity type in each time-block <code>length(unique(fixed_sel_by_year_indicator))</code>. Values 0 = logistic, 1 = Double normal, 2 = power function, 3 = alternative logistic formulation, 4 = exponential decay, 5 = double normal with three parameters</p></li>
<li><p><code>fixed_sel_by_year_indicator</code> vector of integers specifying which selectivity time-block to apply in each year (C++ indexing so start at zero). Expected length is <code>n_projyears</code></p></li>
<li><p><code>trwl_sel_type</code> vector of integers specifying the selectivity type in each time-block <code>length(unique(trwl_sel_by_year_indicator))</code>. Values 0 = logistic, 1 = Double normal, 2 = power function, 3 = alternative logistic formulation, 4 = exponential decay, 5 = double normal with three parameters</p></li>
<li><p><code>trwl_sel_by_year_indicator</code> vector of integers specifying which selectivity time-block to apply in each year (C++ indexing so start at zero). Expected length is <code>n_projyears</code></p></li>
<li><p><code>srv_dom_ll_sel_type</code> vector of integers specifying the selectivity type in each time-block, <code>length(unique(srv_dom_ll_sel_by_year_indicator))</code>. Values 0 = logistic, 1 = Double normal, 2 = power function, 3 = alternative logistic formulation, 4 = exponential decay, 5 = double normal with three parameters</p></li>
<li><p><code>srv_dom_ll_sel_by_year_indicator</code> vector of integers specifying which selectivity time-block to apply in each year (C++ indexing so start at zero). Expected length is <code>n_projyears</code></p></li>
<li><p><code>tag_release_event_this_year</code> vector of integers specifying whether tags are released in each year. Length <code>n_years</code>. <code>n_years_with_tag_releases = sum(tag_release_event_this_year)</code></p></li>
<li><p><code>male_tagged_cohorts_by_age</code> Numbers of male tagged fish. Dimension <code>n_ages</code> <span class="math inline">\(\times\)</span> <code>n_region</code> <span class="math inline">\(\times\)</span> <code>n_years_with_tag_releases</code>. These are in actual numbers <strong>not</strong> millions of fish, like the recruitment parameters and other model abundance quantities</p></li>
<li><p><code>female_tagged_cohorts_by_age</code> Numbers of female tagged fish. Dimension <code>n_ages</code> <span class="math inline">\(\times\)</span> <code>n_region</code> <span class="math inline">\(\times\)</span> <code>n_years_with_tag_releases</code>. These are in actual numbers <strong>not</strong> millions of fish, like the recruitment parameters and other model abundance quantities</p></li>
<li><p><code>n_years_to_retain_tagged_cohorts_for</code> integer, number of years to keep release event information on tag-releases</p></li>
<li><p><code>initial_tag_induced_mortality</code> vector or initial tag release mortality with length <code>n_years_with_tag_releases</code></p></li>
<li><p><code>annual_tag_shedding_rate</code> scalar for annual tag-shedding rate</p></li>
<li><p><code>ageing_error_matrix</code> ageing error matrix <code>n_ages</code> <span class="math inline">\(\times\)</span> <code>n_ages</code></p></li>
<li><p><code>fixed_catchatage_indicator</code> an indicator array for fixed gear catch at age observation with dimensions <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. A one indicates there is a catch at age observation for the fixed fishery in this region and year. A zero indicates no observation.</p></li>
<li><p><code>obs_fixed_catchatage</code> fixed catch at age observation with dimensions <code>n_ages * 2</code> <span class="math inline">\(\times\)</span> <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. The first dimension represents sex and age with males being the first age block followed by females. This observation is in numbers which is equivalent to proportions times the effective sample size. Predicted proportions will sum = 1 over the age and sex dimension.</p></li>
<li><p><code>fixed_catchatage_covar_structure</code> integer, this is a place holder doesn’t do anything yet, will be used when there is alternative composition likelihoods.</p></li>
<li><p><code>fixed_catchatage_comp_likelihood</code> integer, 0 indicates multinomial, 1 indicates dirichlet-multinomial</p></li>
<li><p><code>trwl_catchatlgth_indicator</code> an indicator array for trawl gear catch at length observation with dimensions <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. A one indicates there is a catch at length observation for the trawl fishery in this region and year. A zero indicates no observation.</p></li>
<li><p><code>obs_trawl_catchatlgth</code> fixed catch at length observation with dimensions <code>n_length_bins * 2</code> <span class="math inline">\(\times\)</span> <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. The first dimension represents length bin and age with males being the first length block followed by females. This observation is in numbers which is equivalent to proportions times the effective sample size. Predicted proportions will sum = 1 over the length and sex dimension.</p></li>
<li><p><code>trwl_catchatlgth_covar_structure</code> integer, this is a place holder doesn’t do anything yet, will be used when there is alternative composition likelihoods.</p></li>
<li><p><code>trwl_catchatlgth_comp_likelihood</code> integer, 0 indicates multinomial, 1 indicates dirichlet-multinomial</p></li>
<li><p><code>fixed_catchatlgth_indicator</code> an indicator array for fixed gear catch at length observation with dimensions <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. A one indicates there is a catch at length observation for the fixed gear fishery in this region and year. A zero indicates no observation.</p></li>
<li><p><code>obs_fixed_catchatlgth</code> fixed catch at length observation with dimensions <code>n_length_bins * 2</code> <span class="math inline">\(\times\)</span> <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. The first dimension represents length bin and age with males being the first length block followed by females. This observation is in numbers which is equivalent to proportions times the effective sample size. Predicted proportions will sum = 1 over the length and sex dimension.</p></li>
<li><p><code>fixed_catchatlgth_covar_structure</code> integer, this is a place holder doesn’t do anything yet, will be used when there is alternative composition likelihoods.</p></li>
<li><p><code>fixed_catchatlgth_comp_likelihood</code> integer, 0 indicates multinomial, 1 indicates dirichlet-multinomial</p></li>
<li><p><code>srv_dom_ll_catchatage_indicator</code> an indicator array for survey longline catch at age observation with dimensions <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. A one indicates there is a catch at age observation for the longline survey in this region and year. A zero indicates no observation.</p></li>
<li><p><code>obs_srv_dom_ll_catchatage</code> fixed catch at length observation with dimensions <code>n_ages * 2</code> <span class="math inline">\(\times\)</span> <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. The first dimension represents age and age with males being the first age block followed by females. This observation is in numbers which is equivalent to proportions times the effective sample size. Predicted proportions will sum = 1 over the age and sex dimension.</p></li>
<li><p><code>srv_dom_ll_catchatage_covar_structure</code> integer, this is a place holder doesn’t do anything yet, will be used when there is alternative composition likelihoods.</p></li>
<li><p><code>srv_dom_ll_catchatage_comp_likelihood</code> integer, 0 indicates multinomial, 1 indicates dirichlet-multinomial</p></li>
<li><p><code>srv_dom_ll_bio_indicator</code> an indicator array for survey longline abundance observation with dimensions <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. A one indicates there is an abundance observation for the longline survey in this region and year. A zero indicates no observation.</p></li>
<li><p><code>obs_srv_dom_ll_bio</code> domestic survey abundance observation <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. This observation is in numbers (000’s) which is equivalent to proportions times the effective sample size. Predicted proportions will sum = 1 over the age and sex dimension.</p></li>
<li><p><code>obs_srv_dom_ll_se</code> Standard error for the domestic survey abundance observation</p></li>
<li><p><code>srv_dom_ll_bio_likelihood</code> integer, a value of 0 is the old lognormal call (SE is normal distribution converted to CV by the likelihood evaluation), a value of 1 uses the <code>dlnorm</code> call, standard error are specified in as the lognormal disribution (different to the other value)</p></li>
<li><p><code>srv_dom_ll_obs_is_abundance</code> integer, a value of 0 indicates the observation is biomass or weight. A value of 1 indicates the observation is abundance or numbers</p></li>
<li><p><code>srv_dom_ll_q_by_year_indicator</code> indicator vector, this indicates how many time-blocks for time-varying catchabilities are available. Each element links an element of the parameter <code>trans_srv_dom_ll_q</code> for a year.</p></li>
<li><p><code>srv_dom_ll_q_transformation</code> integer, indicates what transformation is used for <code>trans_srv_dom_ll_q</code>. 0 indicates log, 1 indicates logistic where q is bound between 0 and 1.</p></li>
<li><p><code>q_is_nuisance</code> integer a 0 indicates q is calculated as a free parameter <code>trans_srv_dom_ll_q</code>. If it is equal to 1 then you shouldn’t estimate <code>trans_srv_dom_ll_q</code> because it calculates the survey catchability values based on MLE values conditional on input values.</p></li>
<li><p><code>tag_recovery_indicator_by_year</code> an indicator vector for tag-recovery observations has length <code>n_years</code>. A one indicates there is a tag recovery observation in this year. A zero indicates no observation. This object is used to define <code>n_tag_recovery_years = sum(tag_recovery_indicator_by_year)</code>, which links to other tag-recovery structures. This input parameter is not used when <code>tag_likelihood %in% c(2)</code>.</p></li>
<li><p><code>tag_recovery_indicator</code> an indicator vector for specific tag-release/tag-recovery observations to store. Dimensions of this will depend on <code>tag_likelihood</code>. If <code>tag_likelihood %in% c(0,1)</code> then the dimension is <code>n_tag_release_events</code> <span class="math inline">\(\times\)</span> <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_tag_recovery_years</code>. If <code>tag_likelihood %in% c(2)</code> then the dimensions are <code>n_years</code> <span class="math inline">\(\times\)</span> <code>n_regions</code> this indicates the release event that we wont to save all possible recovery predictions for.</p></li>
<li><p><code>obs_tag_recovery</code> tag-recovery observations. Dimension will depend on <code>tag_likelihood</code>. If <code>tag_likelihood %in% c(0,1)</code> then the dimensions are <code>n_tag_release_events</code> <span class="math inline">\(\times\)</span> <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_tag_recovery_years</code>. Units are numbers (can be non-integer) of recoveries. If <code>tag_likelihood %in% c(2)</code> then the dimensions are <code>n_regions * n_years_to_retain_tagged_cohorts_for + 1</code> <span class="math inline">\(\times\)</span> <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. The first dimensions relate to a release event, the last dimension relates to all possible recovery events and plus one for the not recovered group.</p></li>
<li><p><code>tag_likelihood</code> integer specifying the tag-likelihood, 0 = Poisson, 1 = negative binomial, 2 = Multinomial (release conditioned)</p></li>
<li><p><code>evaluate_tag_likelihood</code> integer specifying whether to evaluate the likelihood (=1) or not (=0) useful when asking the model to calculate predicted values but not evaluate the likelihood for debugging.</p></li>
<li><p><code>future_recruitment_type</code> integer specifying the future recruitment deviation process. 0 = simulate from lognormal distribution with using the sigma R, 1 = empirically re sample input recruitment deviations, 2 = recruitment multiplers = 1 which results in the model applying mean recruitment for all future years</p></li>
<li><p><code>year_ndx_for_empirical_resampling</code> integer vector specifying years to empirically resample from if future_recruitment_type == 1, then this specifies the upper and lower index to resample e.g., <code>year_ndx_for_empirical_resampling = c(0,n_years - 1)</code> then this would resample from all years if <code>year_ndx_for_empirical_resampling = c((n_years - 10), n_years - 1)</code>, then this would resample from the last ten years of the input recruitment deviations</p></li>
<li><p><code>future_fishing_type</code> integer 0 means users have supplied fishing mortality rates in future fishing input containers. If 1 then user supplied catchs in future fishing input containers.</p></li>
<li><p><code>future_fishing_inputs_fixed</code> an array with dimensions <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_projections_years</code>. Will be F’s or catches fir the fixed gear fishery depending on the value of <code>future_fishing_type</code></p></li>
<li><p><code>future_fishing_inputs_trwl</code> an array with dimensions <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_projections_years</code>. Will be F’s or catches fir the trawl gear fishery depending on the value of <code>future_fishing_type</code></p></li>
</ul>
<div id="additional-data-inputs-for-tagintegratedvalidate" class="section level3 unnumbered hasAnchor">
<h3>Additional data inputs for <code>TagIntegratedValidate</code><a href="tagintegrated-data-and-parameter-descriptions.html#additional-data-inputs-for-tagintegratedvalidate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>apply_Z_on_tagged_fish</code> integer 0 no, 1 yes</li>
<li><code>apply_fishery_tag_reporting</code> integer 0 no, 1 yes</li>
<li><code>apply_tag_reporting_rate</code> integer 0 no, 1 yes</li>
</ul>
</div>
</div>
<div id="parameters" class="section level2 unnumbered hasAnchor">
<h2><code>parameters</code><a href="tagintegrated-data-and-parameter-descriptions.html#parameters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p><code>ln_mean_rec</code> vector of natural logarithm of mean recruitment (units are log millions) for each region. length <code>n_regions</code>.</p></li>
<li><p><code>trans_rec_dev</code> array of recruitment deviations. if <code>global_rec_devs</code> = 1 then this has dimension <code>1</code> <span class="math inline">\(\times\)</span> <code>n_years</code>, else it has a row for each region and dimension <code>n_regions</code><span class="math inline">\(\times\)</span> <code>n_years</code></p></li>
<li><p><code>ln_init_rec_dev</code> vector of initial devs to multiple to initial numbers at age for non-equilibrium age-structure. Must have length equal to <code>data$n_init_rec_devs</code>. The first dev, corresponds to the second age we the last value gets applied to all successive ages i.e., if <code>length(ln_init_rec_dev) = 10</code>, the first value <code>numbers_at_age[2] * exp(ln_init_rec_dev[1])</code>, and <code>numbers_at_age[11:n_ages] * exp(ln_init_rec_dev[10])</code></p></li>
<li><p><code>ln_fixed_sel_pars</code> array of log selectivity parameters for fixed gear fishery with dimension <code>n_time_blocks</code><span class="math inline">\(\times\)</span> <code>max(sel parameters)</code><span class="math inline">\(\times\)</span> <code>2</code> (for each sex) male parameters first followed by female. The number of time-blocks is defined by the data parameter <code>data$fixed_sel_by_year_indicator</code> and max selectivity parameters controlled by <code>data$fixed_sel_type</code> which defines the selectivity shape and thus number of parameters.</p></li>
<li><p><code>ln_trwl_sel_pars</code> array of log selectivity parameters for trawl gear fishery with dimension <code>n_time_blocks</code><span class="math inline">\(\times\)</span> <code>max(sel parameters)</code><span class="math inline">\(\times\)</span> <code>2</code> (for each sex) male parameters first followed by female. The number of time-blocks is defined by the data parameter <code>data$trwl_sel_by_year_indicator</code> and max selectivity parameters controlled by <code>data$trwl_sel_type</code> which defines the selectivity shape and thus number of parameters.</p></li>
<li><p><code>transformed_movement_pars</code> array of movement parameters that are transformed in the simplex space. It has dimension <code>n_regions - 1</code> <span class="math inline">\(\times\)</span> <code>n_regions</code>. Use the packages inbuilt <code>simplex()</code> and <code>restoresimplex()</code> functions to change a vector that sums to one to a simplex with n-1 parameters.</p></li>
<li><p><code>ln_fixed_F_avg</code> scalar for the log average fishing mortality of the fixed gear fishery. Should be not estimated if <code>data$F_method = 1</code></p></li>
<li><p><code>ln_fixed_F_devs</code> annual fishing mortality deviations from <code>ln_fixed_F_avg</code>. Expected dimensions are <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. Should be not estimated if <code>data$F_method = 1</code></p></li>
<li><p><code>ln_trwl_F_avg</code> scalar for the log average fishing mortality of the fixed gear fishery. Should be not estimated if <code>data$F_method = 1</code></p></li>
<li><p><code>ln_trwl_F_devs</code> annual fishing mortality deviations from <code>ln_trwl_F_avg</code>. Expected dimensions are <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_years</code>. Should be not estimated if <code>data$F_method = 1</code></p></li>
<li><p><code>ln_init_F_avg</code> scalar for the log fishing mortality applied during initialisation.</p></li>
<li><p><code>ln_catch_sd</code> scalar for the log catch standard deviation</p></li>
<li><p><code>trans_srv_dom_ll_q</code> ann array of transformed catchabilities parameters. The type of transformation will depend on <code>srv_dom_ll_q_transformation</code>. Should have dimension <code>n_regions</code><span class="math inline">\(\times\)</span> <code>length(unique(data$srv_dom_ll_q_by_year_indicator))</code> (number of time-blocks)</p></li>
<li><p><code>ln_srv_dom_ll_sel_pars</code> array of log selectivity parameters for domestic longline fishery with dimension <code>n_time_blocks</code><span class="math inline">\(\times\)</span> <code>max(sel parameters)</code><span class="math inline">\(\times\)</span> <code>2</code> (for each sex) male parameters first followed by female. The number of time-blocks is defined by the data parameter <code>data$srv_dom_ll_sel_by_year_indicator</code> and max selectivity parameters controlled by <code>data$srv_dom_ll_sel_type</code> which defines the selectivity shape and thus number of parameters.</p></li>
<li><p><code>logistic_tag_reporting_rate</code> logistic tag-reporting rates. Expected dimensions are <code>n_regions</code> <span class="math inline">\(\times\)</span> <code>n_tag_recovery_years</code>.</p></li>
<li><p><code>ln_tag_phi</code> scalar which is the log of the dispersion parameter. Only used if <code>data$tag_likelihood == 1</code> i.e. the negative binomial distribution is assumed.</p></li>
<li><p><code>ln_sigma_R</code> scalar which is the log standard deviation for the recruitment prior/penalty</p></li>
<li><p><code>ln_sigma_init_devs</code> scalar which is the log standard deviation for the initial age deviation prior/penalty</p></li>
<li><p><code>trans_trwl_catchatlgth_error</code> vector of observation error parameters for trawl catch at length observation Depends on <code>data$trwl_catchatlgth_comp_likelihood</code>. If <code>data$trwl_catchatlgth_comp_likelihood == 0</code> then this assumes multinomial and this parameter should not be estimated. if <code>data$trwl_catchatlgth_comp_likelihood == 1</code> the this assumes the Dirichlet-multinomial distribution and this should have length 1 and is the log <span class="math inline">\(\theta\)</span> parameter.</p></li>
<li><p><code>trans_fixed_catchatlgth_error</code> vector of observation error parameters for fixed gear fishery catch at length observation. Depends on <code>data$fixed_catchatlgth_comp_likelihood</code>. If <code>data$fixed_catchatlgth_comp_likelihood == 0</code> then this assumes multinomial and this parameter should not be estimated. if <code>data$fixed_catchatlgth_comp_likelihood == 1</code> the this assumes the Dirichlet-multinomial distribution and this should have length 1 and is the log <span class="math inline">\(\theta\)</span> parameter.</p></li>
<li><p><code>trans_fixed_catchatage_error</code> vector of observation error parameters for fixed catch at age observation. Depends on <code>data$fixed_catchatage_comp_likelihood</code>. If <code>data$fixed_catchatage_comp_likelihood == 0</code> then this assumes multinomial and this parameter should not be estimated. if <code>data$fixed_catchatage_comp_likelihood == 1</code> the this assumes the Dirichlet-multinomial distribution and this should have length 1 and is the log <span class="math inline">\(\theta\)</span> parameter.</p></li>
<li><p><code>trans_srv_dom_ll_catchatage_error</code> vector of observation error parameters for survey catch at age observation. Depends on <code>data$srv_dom_ll_catchatage_comp_likelihood</code>. If <code>data$srv_dom_ll_catchatage_comp_likelihood == 0</code> then this assumes multinomial and this parameter should not be estimated. if <code>data$srv_dom_ll_catchatage_comp_likelihood == 1</code> the this assumes the Dirichlet-multinomial distribution and this should have length 1 and is the log <span class="math inline">\(\theta\)</span> parameter.</p></li>
<li><p><code>logistic_prop_recruit_male</code> vector logistic proportions male for recruitment. Length: <code>n_years</code></p></li>
<li><p><code>trans_SR_pars</code> vector of stock recruitment parameters. If <code>SrType == 2</code> then this a vector of length 1 containing the logistic transformed steepness parameter. This is to make sure steepness is bound between 0 and 1. The only other <code>SrType</code> allowed is average i.e. no SR and thus no SR parameters. In future this will be extended to include Ricker and other BH parameterisations.</p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tagintegrated-model-equations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="assessment-data-and-parameter-descriptions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Craig44/SpatialSablefishAssessment/edit/main/04-TagIntegratedInputs.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
